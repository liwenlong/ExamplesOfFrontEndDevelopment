<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
	</head>

	<body>

		<script type="text/javascript">
			var notification;
			if ('Notification' in window) {
				// 获取用户的同意
				Notification.requestPermission(function(permission) {
					if (Notification.permission === 'granted') { // 用户同意接收通知
						notification = new Notification("收到新邮件", {
							body: "您总共有3封未读邮件。",
							tag: new Date().getTime(),
							icon: "./logo.png"
						});
						
						notification.onclick = function(e) {
							console.log('click');
							console.log(e);
						};
						notification.onclose = function(e) {
							console.log('close');
							console.log(e);
						};
						notification.onerror = function(e) {
							console.log('error');
							console.log(e);
						};
						notification.onshow = function(e) {
							console.log('show');
							console.log(e);
						}
					} else if (Notification.permission === 'denied') { // 用户不接受通知
						console.log('用户不接受通知');
					}
				});
			} else {
				console.log('不支持Notification');
			}
			
		</script>
	</body>

</html>
